{"ast":null,"code":"import _toConsumableArray from\"/Users/tomcastagna/Development/code/mod_five/Project/space_friends/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/tomcastagna/Development/code/mod_five/Project/space_friends/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tomcastagna/Development/code/mod_five/Project/space_friends/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/tomcastagna/Development/code/mod_five/Project/space_friends/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/tomcastagna/Development/code/mod_five/Project/space_friends/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/tomcastagna/Development/code/mod_five/Project/space_friends/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Targets from'../Components/Targets';import LevelEnd from'../Components/LevelEnd';import friendlySmall from'../Assets/FriendlySmall.png';import friendlyStrike from'../Assets/FriendlyStrike.png';import healthFull from'../Assets/HealthFull.png';import health3 from'../Assets/Health3.png';import health2 from'../Assets/Health2.png';import health1 from'../Assets/Health1.png';import healthEmpty from'../Assets/HealthEmpty.png';import levelOne from'../Assets/Audio/levelOne.mp3';import levelTwo from'../Assets/Audio/levelTwo.mp3';import levelThree from'../Assets/Audio/levelThree.mp3';var music;var LevelContainer=/*#__PURE__*/function(_Component){_inherits(LevelContainer,_Component);function LevelContainer(){var _getPrototypeOf2;var _this;_classCallCheck(this,LevelContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LevelContainer)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={selectedLevel:_this.props.selectedLevel,blasterPower:_this.props.blasterPower,health:_this.props.health,maxHealth:_this.props.maxHealth,targets:null,counter:0,isClicked:0,levelPoints:0,success:false,levelEnd:false,firendlyBackgroundColor:'#18FCFF',debrisBackgroundColor:'#0B162A',hitFriendlyCount:0};_this.componentDidMount=function(){music=new Audio(_this.getMusic());_this.runGame();};_this.getMusic=function(){switch(_this.state.selectedLevel.name){case'Level One':return levelOne;case'Level Two':return levelTwo;case'Level Three':return levelThree;default:return levelOne;}};_this.handleClick=function(name,target_type){//finds the target that was clicked\nvar thisTarget=_this.state.targets.find(function(target){return target.name===name;});if(target_type!=='asteroid'){if(thisTarget.isClicked===0){thisTarget.isClicked=1;//conditional for responding to target type\nif(target_type==='debris'){_this.setState({isClicked:1,levelPoints:_this.state.levelPoints+1});}if(target_type==='friendly'){_this.setState({isClicked:1,levelPoints:_this.state.levelPoints-2,hitFriendlyCount:_this.state.hitFriendlyCount+1});}if(target_type==='bomb'){_this.setState({isClicked:1,health:_this.state.health-1});}}}else if(target_type==='asteroid'){if(thisTarget.isClicked<2){thisTarget.isClicked+=_this.state.blasterPower;_this.setState({isClicked:_this.state.isClicked+_this.state.blasterPower});if(thisTarget.isClicked>=2){_this.setState({levelPoints:_this.state.levelPoints+3});}}}};_this.resetTargets=function(){var targetsCopy=_toConsumableArray(_this.state.targets);var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=targetsCopy[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var target=_step.value;target.isClicked=0;}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}};_this.establishTargets=function(string){var targets=[];var targetArray=string.split('');for(var i=0;i<targetArray.length;i++){if(targetArray[i]==='0'){targets.push({name:i,target_type:'debris',isClicked:0});}else if(targetArray[i]==='1'){targets.push({name:i,target_type:'friendly',isClicked:0});}else if(targetArray[i]==='2'){targets.push({name:i,target_type:'bomb',isClicked:0});}else if(targetArray[i]==='3'){targets.push({name:i,target_type:'asteroid',isClicked:0});}}_this.setState({targets:targets});};_this.loadLevelGrid=function(){_this.setState({targets:_this.shuffleGrid(_this.state.targets)});};_this.shuffleGrid=function(array){var currentIndex=array.length,temp,random;while(0!==currentIndex){random=Math.floor(Math.random()*currentIndex);currentIndex-=1;temp=array[currentIndex];array[currentIndex]=array[random];array[random]=temp;}return array;};_this.renderTargets=function(){return _this.state.targets.map(function(target){return React.createElement(Targets,Object.assign({handleClick:_this.handleClick,key:target.name},target,{friendlyBackgroundColor:_this.state.friendlyBackgroundColor,debrisBackgroundColor:_this.state.debrisBackgroundColor}));});};_this.playMusic=function(){music.play();};_this.stopMusic=function(){music.pause();music.currentTime=0.0;};_this.getHealth=function(){if(_this.state.health===_this.state.maxHealth){return healthFull;}else if(_this.state.health>=_this.state.maxHealth*0.75&&_this.state.health<_this.state.maxHealth){return health3;}else if(_this.state.health>=_this.state.maxHealth*0.5&&_this.state.health<_this.state.maxHealth*0.75){return health2;}else if(_this.state.health>0&&_this.state.health<_this.state.maxHealth*0.5){return health1;}else{return healthEmpty;}};_this.runGame=function(){//translate targets function\nif(_this.state.targets===null){_this.establishTargets(_this.state.selectedLevel.targetString);}_this.playMusic();var gameLoop=setInterval(function(){_this.resetTargets();_this.loadLevelGrid();_this.setState({counter:_this.state.counter+1});//conditions for level ending\nif(_this.state.counter===15&&_this.state.levelPoints>=_this.state.selectedLevel.goal){clearInterval(gameLoop);_this.stopMusic();_this.setState({success:true,levelEnd:true});}else if(_this.state.counter===15||_this.state.levelPoints<0||_this.state.hitFriendlyCount===3||_this.state.health===0){clearInterval(gameLoop);_this.stopMusic();_this.setState({levelEnd:true});}},2000);};return _this;}_createClass(LevelContainer,[{key:\"render\",value:function render(){if(this.state.targets===null){return React.createElement(\"h1\",null,\"LOADING!\");}if(this.state.levelEnd){return React.createElement(\"div\",{className:this.props.selectedLevel.css},React.createElement(LevelEnd,{levelName:this.state.selectedLevel.name,health:this.state.health,success:this.state.success,levelPoints:this.state.levelPoints,levelEnd:this.state.levelEnd,levelComplete:this.props.levelComplete}));}return React.createElement(\"div\",{className:this.props.selectedLevel.css},React.createElement(\"div\",{className:this.props.selectedLevel.name==='Level Three'?'level-three-column':'level-column'},React.createElement(\"div\",{className:\"health-container\"},React.createElement(\"img\",{className:\"health-img\",src:this.getHealth(),alt:\"health meter\"})),React.createElement(\"div\",{className:\"game-play-container\"},React.createElement(\"div\",{className:\"tile-grid-container\"},React.createElement(\"div\",{className:\"tile-grid\"},this.renderTargets())))),React.createElement(\"div\",{className:\"score-container\"},React.createElement(\"div\",{className:\"strikes\"},React.createElement(\"div\",{className:\"strikes-tile\"},React.createElement(\"img\",{className:\"stikes-img\",src:this.state.hitFriendlyCount>=1?friendlyStrike:friendlySmall,alt:\"alien strikes\"})),React.createElement(\"div\",{className:\"strikes-tile\"},React.createElement(\"img\",{className:\"stikes-img\",src:this.state.hitFriendlyCount>=2?friendlyStrike:friendlySmall,alt:\"alien strikes\"})),React.createElement(\"div\",{className:\"strikes-tile\"},React.createElement(\"img\",{className:\"stikes-img\",src:this.state.hitFriendlyCount===3?friendlyStrike:friendlySmall,alt:\"alien strikes\"}))),React.createElement(\"div\",{className:\"level-score\"},React.createElement(\"p\",{style:{color:'whitesmoke',textAlign:'center'}},\"Score: \",this.state.levelPoints))));}}]);return LevelContainer;}(Component);export{LevelContainer as default};","map":{"version":3,"sources":["/Users/tomcastagna/Development/code/mod_five/Project/space_friends/src/Containers/LevelContainer.js"],"names":["React","Component","Targets","LevelEnd","friendlySmall","friendlyStrike","healthFull","health3","health2","health1","healthEmpty","levelOne","levelTwo","levelThree","music","LevelContainer","state","selectedLevel","props","blasterPower","health","maxHealth","targets","counter","isClicked","levelPoints","success","levelEnd","firendlyBackgroundColor","debrisBackgroundColor","hitFriendlyCount","componentDidMount","Audio","getMusic","runGame","name","handleClick","target_type","thisTarget","find","target","setState","resetTargets","targetsCopy","establishTargets","string","targetArray","split","i","length","push","loadLevelGrid","shuffleGrid","array","currentIndex","temp","random","Math","floor","renderTargets","map","friendlyBackgroundColor","playMusic","play","stopMusic","pause","currentTime","getHealth","targetString","gameLoop","setInterval","goal","clearInterval","css","levelComplete","color","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Targets from '../Components/Targets'\nimport LevelEnd from '../Components/LevelEnd'\nimport friendlySmall from '../Assets/FriendlySmall.png'\nimport friendlyStrike from '../Assets/FriendlyStrike.png'\nimport healthFull from '../Assets/HealthFull.png'\nimport health3 from '../Assets/Health3.png'\nimport health2 from '../Assets/Health2.png'\nimport health1 from '../Assets/Health1.png'\nimport healthEmpty from '../Assets/HealthEmpty.png'\nimport levelOne from '../Assets/Audio/levelOne.mp3'\nimport levelTwo from '../Assets/Audio/levelTwo.mp3'\nimport levelThree from '../Assets/Audio/levelThree.mp3'\nlet music;\n\n\n\nexport default class LevelContainer extends Component{\n\n\n    state = {\n        selectedLevel: this.props.selectedLevel, \n        blasterPower: this.props.blasterPower,\n        health: this.props.health,\n        maxHealth: this.props.maxHealth,\n        targets: null,\n        counter: 0,\n        isClicked: 0,\n        levelPoints: 0,\n        success: false,\n        levelEnd: false,\n        firendlyBackgroundColor: '#18FCFF',\n        debrisBackgroundColor: '#0B162A',\n        hitFriendlyCount: 0\n    }\n\n    //loads everything and holds setInterval loops\n    componentDidMount = () => {\n        music = new Audio(this.getMusic())\n        this.runGame()    \n    }\n    getMusic = () => {\n        switch (this.state.selectedLevel.name){\n            case 'Level One':\n                return levelOne;\n            case 'Level Two':\n                return levelTwo;\n            case 'Level Three':\n                return levelThree;\n            default:\n                return levelOne\n        }\n    }\n\n    //function for handling target clicks\n    handleClick = (name, target_type) => {\n        //finds the target that was clicked\n        let thisTarget = this.state.targets.find(target => target.name === name)\n        if(target_type !== 'asteroid'){\n            if(thisTarget.isClicked === 0){\n                thisTarget.isClicked = 1\n                //conditional for responding to target type\n                if(target_type === 'debris'){\n                    this.setState({\n                        isClicked: 1,\n                        levelPoints: this.state.levelPoints+1\n                    })\n                }\n                if(target_type === 'friendly'){\n                    this.setState({\n                        isClicked: 1,\n                        levelPoints: this.state.levelPoints-2,\n                        hitFriendlyCount: this.state.hitFriendlyCount+1\n                    })\n                }\n                if(target_type === 'bomb'){\n                    this.setState({\n                        isClicked: 1,\n                        health: this.state.health-1\n                    })\n                }\n            }\n        }\n        else if(target_type === 'asteroid'){\n            if(thisTarget.isClicked < 2){\n                thisTarget.isClicked += this.state.blasterPower;\n                this.setState({\n                    isClicked: this.state.isClicked + this.state.blasterPower\n                })\n                if(thisTarget.isClicked >= 2){\n                    this.setState({\n                        levelPoints: this.state.levelPoints+3\n                    })\n                }\n            }        \n        }\n    }\n\n    // resets the state for targets, used for setInterval loop\n    resetTargets = () => {\n        let targetsCopy = [...this.state.targets];\n        for(const target of targetsCopy){\n            target.isClicked = 0\n        }\n    }\n    //translates targetString into objects\n    establishTargets = (string) => {\n        \n        let targets = [];\n        let targetArray = string.split('');\n        for (let i = 0; i < targetArray.length; i++){\n            if(targetArray[i] === '0'){\n                targets.push({name: i, target_type: 'debris', isClicked: 0})\n            }\n            else if(targetArray[i] === '1'){\n                targets.push({name: i, target_type: 'friendly', isClicked: 0})\n            }\n            else if(targetArray[i] === '2'){\n                targets.push({name: i, target_type: 'bomb', isClicked: 0})\n            }\n            else if(targetArray[i] === '3'){\n                targets.push({name: i, target_type: 'asteroid', isClicked: 0})\n            }\n        }\n        this.setState({\n            targets: targets\n        })\n    }\n  \n    //load the targets\n    loadLevelGrid = () => {\n        this.setState({\n            targets: this.shuffleGrid(this.state.targets)\n        })\n    }\n\n    //shuffles the targets for loading\n    shuffleGrid = (array) => {\n        let currentIndex = array.length, temp, random;\n        while(0 !== currentIndex){\n            random = Math.floor(Math.random() * currentIndex);\n            currentIndex -= 1;\n            temp = array[currentIndex];\n            array[currentIndex] = array[random];\n            array[random] = temp;\n        }\n        return array\n    }\n\n    // passes the targets to the Target component\n    renderTargets = () => {\n        return this.state.targets.map(target => <Targets \n        handleClick={this.handleClick} key={target.name}{...target}\n        friendlyBackgroundColor={this.state.friendlyBackgroundColor}\n        debrisBackgroundColor={this.state.debrisBackgroundColor}\n        />)\n        \n    }\n    playMusic = () => {\n        music.play();\n    }\n\n    stopMusic = () => {\n        music.pause();\n        music.currentTime = 0.0;\n    }\n\n    getHealth = () => {\n        if(this.state.health === this.state.maxHealth){\n            return healthFull;\n        }\n        else if (this.state.health >= (this.state.maxHealth * 0.75) && this.state.health < (this.state.maxHealth)){\n            return health3;\n        }\n        else if(this.state.health >= (this.state.maxHealth * 0.5) && this.state.health < (this.state.maxHealth * 0.75)){\n            return health2;\n        }\n        else if (this.state.health > 0 && this.state.health < (this.state.maxHealth * 0.5)){\n            return health1;\n        }\n        else{\n            return healthEmpty;\n        }\n    }\n\n    runGame = () => {\n        //translate targets function\n        if (this.state.targets === null){\n            this.establishTargets(this.state.selectedLevel.targetString)\n        }\n        this.playMusic();\n        var gameLoop = setInterval(() =>{\n            this.resetTargets()\n            this.loadLevelGrid()\n            this.setState({\n                counter: this.state.counter+1\n            })\n            //conditions for level ending\n            if(this.state.counter === 15 && this.state.levelPoints >= this.state.selectedLevel.goal){ \n                clearInterval(gameLoop)\n                this.stopMusic()\n                this.setState({\n                    success: true,\n                    levelEnd: true\n                })\n            }\n            else if(this.state.counter === 15 || this.state.levelPoints < 0 || this.state.hitFriendlyCount === 3\n                || this.state.health === 0){\n                clearInterval(gameLoop)\n                this.stopMusic()\n                this.setState({\n                    levelEnd: true\n                })\n            }\n        }, 2000)\n    }\n\n    render() {\n        if (this.state.targets === null){\n            return <h1>LOADING!</h1>\n        }\n        if (this.state.levelEnd){\n            return(\n                <div className={this.props.selectedLevel.css}>\n                    <LevelEnd\n                    levelName={this.state.selectedLevel.name}\n                    health={this.state.health} \n                    success={this.state.success}\n                    levelPoints={this.state.levelPoints}\n                    levelEnd={this.state.levelEnd}\n                    levelComplete={this.props.levelComplete}\n                    />\n                </div>    \n            )\n        }\n        return (\n\n            <div className={this.props.selectedLevel.css}>\n                <div className={this.props.selectedLevel.name === 'Level Three' ? 'level-three-column' : 'level-column'}>\n                    <div className='health-container'>\n                        <img className='health-img' src={this.getHealth()} alt=\"health meter\"></img>\n                    </div>\n                    <div className='game-play-container'>\n                        <div className='tile-grid-container'>\n                            <div className='tile-grid'>\n                                {this.renderTargets()}\n                            </div>\n                        </div>\n                        \n                    </div>\n                </div>\n                <div className='score-container'>\n                    <div className='strikes'>   \n                        <div className='strikes-tile'>\n                            <img className='stikes-img' src={this.state.hitFriendlyCount >= 1 ? friendlyStrike : friendlySmall} alt=\"alien strikes\"></img>\n                        </div>\n                        <div className='strikes-tile'>\n                            <img className='stikes-img' src={this.state.hitFriendlyCount >= 2 ? friendlyStrike : friendlySmall} alt=\"alien strikes\"></img>\n                        </div>\n                        <div className='strikes-tile'>        \n                            <img className='stikes-img' src={this.state.hitFriendlyCount === 3 ? friendlyStrike : friendlySmall} alt=\"alien strikes\"></img>\n                        </div>\n                    </div> \n                    <div className='level-score'>\n                        <p style={{color:'whitesmoke', textAlign: 'center'}}>Score: {this.state.levelPoints}</p>\n                    </div>\n                </div> \n            </div>\n            \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}